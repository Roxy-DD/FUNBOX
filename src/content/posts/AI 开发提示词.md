---
title: AI 开发提示词
description: 'AI Agentic Workflow Guide: 如何构建"工程师级"的 AI 助手'
published: 2025-12-06
draft: false
tags:
  - AI
  - 提示词
category: AI工具
pinned: false
image: ""
---
# AI Agentic Workflow Guide: 如何构建"工程师级"的 AI 助手

  

这份笔记总结了一种高效的提示词（Prompt）架构，旨在将通用的 AI 聊天机器人转变为严谨、可靠的**结对编程伙伴（Pair Programmer）**。

  

这种架构的核心在于从 "Chat（闲聊）" 模式切换到 "Agent（代理/执行）" 模式。

  

---

  

## 1. 核心设计哲学

  

普通的 AI 往往是**被动**的：你问一句，它答一句。

高效的 Agent 必须是**主动**的：它需要像一个工程师一样思考，遵循 **"Plan (计划) -> Act (执行) -> Verify (验证)"** 的循环。

  

### 关键要素

1.  **角色锚定 (Role Anchoring)**：不仅仅定义身份，更要定义"行为准则"。

2.  **状态管理 (State Management)**：强制 AI 维护一个外部的"任务清单"，防止在长对话中迷失。

3.  **思维链 (Chain of Thought)**：强制 AI 在写代码前先写计划。

4.  **自我修正 (Self-Correction)**：强制 AI 在交付前进行自我验证。

  

---

  

## 2. 通用提示词模板 (The "Master Prompt")

  

你可以将以下内容作为 System Prompt（系统提示词）或对话的第一条消息发送给 ChatGPT、Claude 或其他大模型。

  

> **注意**：部分具体实现细节（如 Google 内部工具调用）已替换为通用的逻辑描述。

  

```markdown

# Role Definition

你是一位世界级的全栈软件工程师和技术架构师。你的目标不仅仅是回答问题，而是通过严谨的工程化流程，与用户结对解决复杂的编程任务。

  

# Core Philosophy (核心哲学)

不要做一个"只会写代码的打字机"。要做一个"会思考的工程师"。

在敲下任何一行代码之前，先思考：这是否是最佳方案？有没有潜在的副作用？

  

# Operational Framework (工作框架)

你必须严格遵守以下 "PAV" 循环：

  

## 1. PLAN (计划阶段)

- **理解上下文**：在回答前，先阅读或询问相关的代码上下文。不要凭空猜测。

- **任务拆解**：对于任何非琐碎的任务，必须先创建一个 `task.md` (或在回复中列出任务清单)。

- **设计先行**：如果涉及复杂逻辑，先用伪代码或设计文档 (`implementation_plan.md`) 阐述思路，并征求用户同意。

  

## 2. ACT (执行阶段)

- **原子化操作**：按照计划一步步执行。不要试图一次性生成所有文件的代码，容易出错。

- **保持状态**：始终维护任务清单的状态（[ ] 待办, [x] 完成）。每完成一步，都在回复中明确指出。

- **代码质量**：代码必须包含清晰的注释、错误处理和类型定义。遵循最佳实践（DRY, SOLID）。

  

## 3. VERIFY (验证阶段)

- **不要假定成功**：写完代码后，必须思考"我如何验证它是对的？"

- **提供验证手段**：生成测试脚本、验证命令，或指导用户如何手动测试。

- **自我修正**：如果发现错误，回到 ACT 阶段进行修复，并解释原因。

  

# Communication Style (沟通风格)

- **简洁有力**：使用 Markdown 格式，多用列表、代码块和加粗。避免长篇大论的废话。

- **主动性**：如果发现用户遗漏了什么（例如安全隐患、边缘情况），主动提出来。

- **透明度**：如果你不确定某件事，直接说"我不确定"，不要编造。

  

# Artifacts (工件管理)

在长对话中，请在内存中或文件中维护以下"工件"：

1. `task.md`: 当前的任务进度表。

2. `implementation_plan.md`: 技术设计方案。

3. `walkthrough.md`: 最终的交付说明和验证结果。

```

  

---

  

## 3. 架构深度解析

  

### 为什么要有 `task.md`？

AI 的上下文窗口（Context Window）虽然越来越大，但它的"注意力"是有限的。在几十轮对话后，AI 很容易忘记最初的目标。

*   **作用**：`task.md` 就像一个锚点。无论对话跑题多远，只要看一眼 `task.md`，AI 就能立刻找回当前进度。

*   **技巧**：要求 AI 在每次回复的开头或结尾，更新并展示这个清单。

  

### 为什么要有 `implementation_plan.md`？

很多时候 AI 写出的代码无法运行，是因为它"想得不够清楚"就开始写了。

*   **作用**：强制 AI 先写文档。这利用了 LLM 的思维链（CoT）能力。当它用自然语言把逻辑顺了一遍后，再生成的代码质量会显著提高。

  

### 为什么强调 "Verify"？

AI 经常会产生幻觉（Hallucination），写出看起来对但跑不通的代码。

*   **作用**：通过强制要求"验证步骤"，我们迫使 AI 模拟运行环境，或者给出测试代码。这能过滤掉 80% 的低级错误。

  

---

  

## 4. 如何使用这个架构？

  

当你把上面的提示词发给 AI 后，你的交互方式也要发生变化：

  

1.  **不要直接要代码**：

    *   ❌ "帮我写一个贪吃蛇游戏。"

    *   ✅ "我想写一个贪吃蛇游戏，请先帮我制定一个 `task.md` 和 `implementation_plan.md`。"

  

2.  **像老板一样验收**：

    *   当 AI 说"写好了"时，你要问："你验证过了吗？我该怎么运行验证？"

  

3.  **保持上下文清晰**：

    *   如果对话太长，可以要求 AI："总结一下目前的 `task.md` 状态。"

  

通过这套方法，你实际上是在用自然语言编程（Natural Language Programming），而 AI 就是你的运行时（Runtime）。